class IO{constructor(e,t=document){if("string"==typeof e)if("body"===(e=e.trim()))t instanceof Document&&t.body?this.elements=[t.body]:this.elements=[];else if(/^#[^\s][\S]*$/.test(e)){const n=e.slice(1),s=!t.getElementById||t instanceof DocumentFragment?t.querySelector(`#${CSS.escape(n)}`):t.getElementById(n);this.elements=s?[s]:[]}else this.elements=Array.from(t.querySelectorAll(e)),this.elements.length;else e instanceof Element?this.elements=[e]:e instanceof Document?e.body?this.elements=[e.body]:this.elements=[]:e instanceof NodeList||Array.isArray(e)?this.elements=Array.from(e).filter((e=>e instanceof Element)):this.elements=[]}native(){return this.elements[0]??null}allNative(){return this.elements??[]}forEach(e,t=!0){return this.elements.forEach(((n,s)=>{e.call(n,t?n:new IO(n),s)})),this}each(e){return this.forEach(e,!1)}show(e=!1){return this.forEach((t=>{t.style.display=e?"":t.dataset.originalDisplay||"block"}))}hide(){return this.forEach((e=>{e.dataset.originalDisplay=getComputedStyle(e).display,e.style.display="none"}))}toggleVisibility(){return this.forEach((e=>{const t=getComputedStyle(e).display;if("none"===t){const t=e.dataset.originalDisplay||"block";e.style.display=t}else e.dataset.originalDisplay=t,e.style.display="none"}))}enable(){return this.forEach((e=>{"disabled"in e&&(e.disabled=!1),e.style.pointerEvents="auto",e.classList.remove("disabled","opacity-25")}))}disable(){return this.forEach((e=>{"disabled"in e&&(e.disabled=!0),e.style.pointerEvents="none",e.classList.add("disabled","opacity-25")}))}addClass(...e){if(!e.length||e.some((e=>!e||"string"!=typeof e||!e.trim())))return this;const t=e.flatMap((e=>e.trim().split(/\s+/)));return this.forEach((e=>{e.classList.add(...t)}))}removeClass(...e){if(!e.length||e.some((e=>!e||"string"!=typeof e||!e.trim())))return this;const t=e.flatMap((e=>e.trim().split(/\s+/)));return this.forEach((e=>{e.classList.remove(...t)}))}toggleClass(...e){if(!e.length||e.some((e=>!e||"string"!=typeof e||!e.trim())))return this;const t=e.flatMap((e=>e.trim().split(/\s+/)));return this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))}hasClass(...e){return!(!e.length||e.some((e=>!e||"string"!=typeof e||!e.trim())))&&(!!this.elements[0]&&e.every((e=>this.elements[0].classList.contains(e.trim()))))}removeClassBy(e,...t){if(!e||!t.length||"string"!=typeof e||t.some((e=>!e||"string"!=typeof e||!e.trim())))return this;const n=t.flatMap((e=>e.trim().split(/\s+/)));return this.forEach((t=>{t.querySelectorAll(e).forEach((e=>{e.classList.remove(...n)}))}))}html(e){return void 0===e?this.elements[0]?this.elements[0].innerHTML:null:"string"!=typeof e&&"number"!=typeof e?this:this.forEach((t=>{t.innerHTML=String(e)}))}text(e){return void 0===e?this.elements[0]?this.elements[0].textContent:null:"string"!=typeof e&&"number"!=typeof e?this:this.forEach((t=>{t.textContent=e}))}htmlAdd(e){return void 0===e?this.elements[0]?this.elements[0].innerHTML:null:"string"!=typeof e&&"number"!=typeof e?this:this.forEach((t=>{const n=t.textContent.trim();"number"==typeof e&&1===t.childNodes.length&&t.childNodes[0].nodeType===Node.TEXT_NODE&&/^-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)$/.test(n)?t.innerHTML=(parseFloat(n)+e).toString():t.innerHTML+=String(e)}))}htmlSub(e){return void 0===e?this.elements[0]?this.elements[0].innerHTML:null:"string"!=typeof e&&"number"!=typeof e?this:this.forEach((t=>{const n=t.textContent.trim();"number"==typeof e&&1===t.childNodes.length&&t.childNodes[0].nodeType===Node.TEXT_NODE&&/^-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)$/.test(n)?t.innerHTML=(parseFloat(n)-e).toString():t.innerHTML=t.innerHTML.replace(new RegExp(this.escapeRegExp(String(e)),"g"),"")}))}htmlAppend(e){return this.forEach((t=>{"string"==typeof e?t.insertAdjacentHTML("beforeend",e.trim()):e instanceof HTMLElement?t.appendChild(e):e instanceof IO&&e.elements.forEach((e=>t.appendChild(e)))}))}htmlPrepend(e){return this.forEach((t=>{"string"==typeof e?t.insertAdjacentHTML("afterbegin",e.trim()):e instanceof HTMLElement?t.insertBefore(e,t.firstChild):e instanceof IO&&e.elements.forEach((e=>t.insertBefore(e,t.firstChild)))}))}htmlBefore(e){return this.forEach((t=>{"string"==typeof e?t.insertAdjacentHTML("beforebegin",e.trim()):e instanceof HTMLElement?t.parentNode.insertBefore(e,t):e instanceof IO&&e.elements.forEach((e=>t.parentNode.insertBefore(e,t)))}))}htmlAfter(e){return this.forEach((t=>{"string"==typeof e?t.insertAdjacentHTML("afterend",e.trim()):e instanceof HTMLElement?t.parentNode.insertBefore(e,t.nextSibling):e instanceof IO&&Array.from(e.elements).reverse().forEach((e=>t.parentNode.insertBefore(e,t.nextSibling)))}))}htmlReplace(e){return this.forEach((t=>{if("string"==typeof e){t.parentNode.insertAdjacentHTML("beforebegin",e.trim()),t.remove()}else if(e instanceof HTMLElement)t.parentNode.replaceChild(e,t);else if(e instanceof IO){const n=t.parentNode;e.elements.forEach((e=>n.insertBefore(e,t))),n.removeChild(t)}}))}remove(){return this.forEach((e=>{e.remove()}))}attr(e,t){return e&&"string"==typeof e?void 0===t?this.elements[0]?this.elements[0].getAttribute(e):null:this.forEach((n=>{n.setAttribute(e,t)})):void 0===t?null:this}removeAttr(e){return e&&"string"==typeof e?this.forEach((t=>{t.removeAttribute(e)})):this}aria(e,t){return e&&"string"==typeof e?void 0===t?this.elements[0]?this.elements[0].getAttribute(`aria-${e}`):null:this.forEach((n=>{n.setAttribute(`aria-${e}`,t)})):void 0===t?null:this}data(e,t){return e&&"string"==typeof e?void 0===t?this.elements[0]?this.elements[0].dataset[e]:null:this.forEach((n=>{n.dataset[e]=t})):void 0===t?null:this}dataAdd(e,t){return e&&"string"==typeof e&&void 0!==t?this.forEach((n=>{const s=n.dataset[e]||"";"number"==typeof t&&!isNaN(parseFloat(s))&&Number.isFinite(parseFloat(s))?n.dataset[e]=(parseFloat(s)+t).toString():n.dataset[e]=s+t})):this}dataSub(e,t){return e&&"string"==typeof e&&void 0!==t?this.forEach((n=>{const s=n.dataset[e]||"";"number"==typeof t&&!isNaN(parseFloat(s))&&Number.isFinite(parseFloat(s))?n.dataset[e]=(parseFloat(s)-t).toString():n.dataset[e]=s.replace(new RegExp(this.escapeRegExp(String(t)),"g"),"")})):this}dataAll(){return this.elements[0]?Object.entries(this.elements[0].dataset):[]}val(e){return void 0===e?this.elements[0]&&(this.elements[0]instanceof HTMLInputElement||this.elements[0]instanceof HTMLSelectElement||this.elements[0]instanceof HTMLTextAreaElement)?this.elements[0].value:null:this.forEach((t=>{(t instanceof HTMLInputElement||t instanceof HTMLSelectElement||t instanceof HTMLTextAreaElement)&&(t.value=null!=e?String(e):"")}))}css(e,t){return"string"==typeof e&&void 0===t?this.elements[0]?getComputedStyle(this.elements[0])[e]:null:"string"!=typeof e&&"object"!=typeof e?this:this.forEach((n=>{if("object"==typeof e)for(let t in e)if(t.startsWith("--"))n.style.setProperty(t,e[t]);else{const s=t.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()));s in n.style&&(n.style[s]=e[t])}else if(e.startsWith("--"))n.style.setProperty(e,t);else{const s=e.replace(/-([a-z])/g,((e,t)=>t.toUpperCase()));s in n.style&&(n.style[s]=t)}}))}on(e,t){return e&&t&&"string"==typeof e&&"function"==typeof t?this.forEach((n=>{n.addEventListener(e,t)})):this}off(e,t){return e&&t&&"string"==typeof e&&"function"==typeof t?this.forEach((n=>{n.removeEventListener(e,t)})):this}click(e){return e?"function"!=typeof e?this:this.forEach((t=>{t.addEventListener("click",e)})):this.forEach((e=>{e.click()}))}delegate(e,t,n){return e&&t&&n&&"string"==typeof e&&"string"==typeof t&&"function"==typeof n?this.forEach((s=>{s.addEventListener(e,(e=>{const r=e.target.closest(t);r&&s.contains(r)&&n.call(r,e)}))})):this}trigger(e,t={bubbles:!0,cancelable:!0}){return e&&"string"==typeof e?this.forEach((n=>{const s=new Event(e,t);n.dispatchEvent(s)})):this}findBy(e){return new IO(e&&"string"==typeof e?this.elements.flatMap((t=>Array.from(t.querySelectorAll(e)))).slice(0,1):[])}findAllBy(e){if(!e||"string"!=typeof e)return new IO([]);const t=[];for(const n of this.elements)t.push(...n.querySelectorAll(e));return new IO(t)}findById(e){if(!e||"string"!=typeof e)return new IO([]);const t=CSS.escape(e);return new IO(this.elements.flatMap((e=>{const n=e.querySelector(`#${t}`);return n?[n]:[]})).slice(0,1))}findByClass(e){return new IO(e&&"string"==typeof e?this.elements.flatMap((t=>Array.from(t.querySelectorAll(`.${e}`)))).slice(0,1):[])}findAllByClass(e){return new IO(e&&"string"==typeof e?this.elements.flatMap((t=>Array.from(t.querySelectorAll(`.${e}`)))):[])}findByName(e){return new IO(e&&"string"==typeof e?this.elements.flatMap((t=>Array.from(t.querySelectorAll(`[name="${e}"]`)))).slice(0,1):[])}findAllByName(e){return new IO(e&&"string"==typeof e?this.elements.flatMap((t=>Array.from(t.querySelectorAll(`[name="${e}"]`)))):[])}findByType(e){return new IO(e&&"string"==typeof e?this.elements.flatMap((t=>Array.from(t.querySelectorAll(`[type="${e}"]`)))).slice(0,1):[])}findAllByType(e){return new IO(e&&"string"==typeof e?this.elements.flatMap((t=>Array.from(t.querySelectorAll(`[type="${e}"]`)))):[])}findByAttr(e,t){if(!e||"string"!=typeof e)return new IO([]);const n=void 0!==t?`[${e}="${t}"]`:`[${e}]`;return new IO(this.elements.flatMap((e=>Array.from(e.querySelectorAll(n)))).slice(0,1))}findAllByAttr(e,t){if(!e||"string"!=typeof e)return new IO([]);const n=void 0!==t?`[${e}="${t}"]`:`[${e}]`;return new IO(this.elements.flatMap((e=>Array.from(e.querySelectorAll(n)))))}findParentById(e){if(!e||"string"!=typeof e)return new IO([]);const t=CSS.escape(e);return new IO(this.elements.map((e=>e.closest(`#${t}`))).filter(Boolean))}findParentByClass(e){return new IO(e&&"string"==typeof e?this.elements.map((t=>t.closest(`.${e}`))).filter(Boolean):[])}isEmptyValue(e=!0){const t=this.val();return void 0===t||["false","null",!1,null,""].includes(t)||e&&0===t}isNotEmptyValue(e=!0){return!this.isEmptyValue(e)}isEmptyData(e,t=!0){if(!e||"string"!=typeof e)return!0;const n=this.data(e);return void 0===n||["false","null",!1,null,""].includes(n)||t&&0===n}isNotEmptyData(e,t=!0){return!this.isEmptyData(e,t)}exists(){return this.elements.length>0}first(){return new IO(this.elements[0]??[])}last(){return new IO(this.elements[this.elements.length-1]??[])}eq(e){return new IO(this.elements[e]??[])}count(){return this.elements.length}get(e){return this.elements[e]??null}sanitizeXSS(e,t={allowedTags:["b","i","u","strong","em","p","div","span","a","br"],allowedAttributes:["href","class","id"]}){if("string"!=typeof e)return"";const{allowedTags:n,allowedAttributes:s}=t,r=document.createElement("div");r.innerHTML=e;const i=document.createDocumentFragment();i.append(...r.childNodes);const l=e=>{if(e.nodeType===Node.ELEMENT_NODE){const t=e.tagName.toLowerCase();n.includes(t)?(Array.from(e.attributes).forEach((t=>{const n=t.name.toLowerCase();(!s.includes(n)||"href"===n&&/^(javascript|data):/i.test(t.value)||n.startsWith("on")||"style"===n)&&e.removeAttribute(t.name)})),Array.from(e.childNodes).forEach(l)):e.replaceWith(...Array.from(e.childNodes).map(l))}else e.nodeType===Node.TEXT_NODE&&(e.textContent=e.textContent.replace(/(javascript|data):/gi,""));return e};return Array.from(i.childNodes).forEach(l),r.innerHTML}escapeRegExp(e){return e.toString().replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}const $io=(e,t)=>new IO(e,t);